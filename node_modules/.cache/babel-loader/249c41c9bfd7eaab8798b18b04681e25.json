{"ast":null,"code":"class IdentityManager {\n  constructor(providers = {}) {\n    this._providers = providers;\n  }\n\n  addProviderSettings(providerSettings) {\n    const url = providerSettings.provider.url;\n    const provider = this._providers[url] || (this._providers[url] = {});\n    provider.providerSettings = providerSettings;\n  }\n\n  getProviderSettings(url) {\n    return this._providers[url] && this._providers[url].providerSettings;\n  }\n\n  addSession(providerSettings, username, session) {\n    this.getSessions(providerSettings)[username] = session;\n  }\n\n  getSession(providerSettings, username) {\n    return this.getSessions(providerSettings)[username];\n  }\n\n  getSessions(providerSettings) {\n    const url = providerSettings.provider.url;\n    const provider = this._providers[url] || (this._providers[url] = {});\n    const sessions = provider.sessions || (provider.sessions = {});\n    return sessions;\n  }\n\n  toJSON() {\n    return JSON.stringify({\n      providers: this._providers\n    });\n  }\n\n  static fromJSON(json) {\n    const _JSON$parse = JSON.parse(json),\n          providers = _JSON$parse.providers;\n\n    return new IdentityManager(providers || {});\n  }\n\n}\n\nmodule.exports = IdentityManager;","map":null,"metadata":{},"sourceType":"script"}